(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,a,t){e.exports=t(73)},42:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(29),i=t.n(o),c=t(77),s=(t(42),t(4)),l=t(5),u=t(7),d=t(6),h=t(8),f=t(11),p={UPDATE_SEARCH_VALUE:"UPDATE_SEARCH_VALUE",INCREMENT_PAGE_NUMBER:"INCREMENT_PAGE_NUMBER",CLEAR_PAGE_NUMBER:"CLEAR_PAGE_NUMBER"},m={SEARCH_GIFS:"SEARCH_GIFS",APPEND_GIFS:"APPEND_GIFS",FAV_GIF:"FAVORITE_GIF",LOADING_START:"LOADING_START",SEARCH_ERROR:"SEARCH_ERROR"};var v="https://api.giphy.com/v1/gifs",g="Xc47ov5HBaQVCQFfHxnj4WpVIP2pZgmB",E=["#FFD7A3","#FFC2FD","#F9FFAE","#8590FF","#FFC7F4","#9ECDFF","#EDFFC2","#FEC2FF","#AA9EFF","#FF938A","#FFD0C2","#FFCBBD","#FF8FA1"],b=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).handleImageLoaded=function(){t.setState({loaded:!0})},t.getRandomPasteleColor=function(){return E[Math.floor(Math.random()*E.length)]},t.state={loaded:!1,bgc:"white"},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({bgc:this.getRandomPasteleColor()})}},{key:"render",value:function(){var e=this.props,a=e.source,t=e.altText,n=this.state,o=n.loaded,i=n.bgc;return r.a.createElement("div",{style:{backgroundColor:i},className:"gif-placeholder"},r.a.createElement("img",{alt:t,onLoad:this.handleImageLoaded,className:"gif "+(o?"loaded":""),src:a}))}}]),a}(n.Component),A=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).handleMouseHover=function(){t.setState(t.toggleHoverState)},t.setHoverMessage=function(e){t.setState({hoverMessage:e}),t.timeout=setTimeout(function(){return t.setState({hoverMessage:""})},2e3)},t.handleClickFavorte=function(){t.state.favorite?t.setHoverMessage("Gif Unfavorited!"):t.setHoverMessage("Gif Favorited!"),t.setState(t.toggleFavoriteState,function(){var e=t.props.data;t.props.toggleFavGif({id:e.id,url:e.url,images:e.images,title:e.title})})},t.handleClickCopyLink=function(){t.setHoverMessage("Link Copied!");var e=t.props.data,a=document.createElement("textarea");a.value=e.url,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},t.toggleHoverState=function(e){return{hover:!e.hover}},t.toggleFavoriteState=function(e){return{favorite:!e.favorite}},t.renderTempMessage=function(){var e=t.state.hoverMessage;return e?r.a.createElement("div",{className:"message-box"},e):null},t.renderHoverBox=function(){var e=t.state,a=e.hover,n=e.favorite,o=e.hoverMessage,i=["fa fa-star"];return n&&i.push("isFav"),!o&&a?r.a.createElement("div",{className:"gif-hover-box"+(a?" active":"")},r.a.createElement("div",{className:"hover-box-buttons"},r.a.createElement("i",{onClick:t.handleClickCopyLink,className:"fa fa-link"}),r.a.createElement("i",{onClick:t.handleClickFavorte,className:i.join(" ")}))):null},t.state={hover:!1,favorite:!1,hoverMessage:""},t.timeout=null,t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.props.data.isFav&&this.setState({favorite:!0})}},{key:"render",value:function(){var e=this.props.data;return r.a.createElement("div",{onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover,className:"gif-box-container"},this.renderTempMessage(),this.renderHoverBox(),r.a.createElement(b,{altText:e.title,source:e.images.fixed_height.url}))}}]),a}(n.Component),O=Object(f.b)(null,{toggleFavGif:function(e){return function(a,t){var n=t().gifReducer.favorites,r=n.filter(function(a){return a.id!==e.id});r.length===n.length&&(e.isFav=!0,r.push(e)),a({type:m.FAV_GIF,payload:r})}}})(A),y=t(20),j=t.n(y),R=t(32),F=t(33),N=t.n(F);function C(e,a){var t,n,r=(t=e,n=a,"".concat(v,"/search?api_key=").concat(g,"&q=").concat(t.split(" ").join("+"),"&offset=").concat(25*n));return N.a.get(r).then(function(e){return e.data}).catch(function(e){return e})}function _(e){return function(){var a=Object(R.a)(j.a.mark(function a(t,n){var r,o,i,c,s,l,u;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:m.LOADING_START}),t(e?{type:p.INCREMENT_PAGE_NUMBER}:{type:p.CLEAR_PAGE_NUMBER}),r=n(),o=r.searchReducer,i=r.gifReducer,c=o.pageNumber,s=o.searchValue,l=i.favorites.map(function(e){return e.id}),a.next=10,C(s,c);case 10:(u=a.sent)&&u.data?(u.data.forEach(function(e){return l.includes(e.id)&&(e.isFav=!0),e}),t(e?{type:m.APPEND_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}}:{type:m.SEARCH_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}})):t({type:m.SEARCH_ERROR});case 12:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()}function D(e){return function(a){a({type:p.UPDATE_SEARCH_VALUE,payload:e.target.value})}}var S=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).handleLoadMoreClick=function(){t.props.searchGifsAction(!0)},t.renderTotalGifs=function(){var e=t.props,a=e.data,n=e.meta;if(!a||!n)return null;var o=!!(a&&a instanceof Array&&a.length),i=n.total_count;return o?r.a.createElement("div",{className:"table-meta"},i," gifs"):null},t.renderLoader=function(){return t.props.isLoading?r.a.createElement("div",{className:"loading-container"},r.a.createElement("i",{className:"fa fa-spinner"})):null},t.renderGifs=function(){var e=t.props.data,a=e.map(function(e,a){return r.a.createElement(O,{key:a,data:e})});return e?a:null},t.renderShowMoreButton=function(){var e=t.props,a=e.data,n=e.enableLoadMore,o=e.meta,i=!!(a&&a instanceof Array&&a.length),c=o.total_count;return!!(n&&i&&a.length<c)?r.a.createElement("div",{className:"more-container"},r.a.createElement("div",{onClick:t.handleLoadMoreClick,className:"more-button"},r.a.createElement("div",{className:"button-label"},"Give me MORE!"))):null},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"table-container"},this.renderTotalGifs(),r.a.createElement("div",{className:"table"},this.renderGifs()),this.renderLoader(),this.renderShowMoreButton())}}]),a}(n.Component),G=Object(f.b)(null,{searchGifsAction:_})(S);function M(e){return"/"===(e=e.split(""))[0]&&e.shift(),"/"===e[1]&&e.pop(),(e=e.join("")).split("/")}var k=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).renderErrorMessage=function(){return t.props.searchError?r.a.createElement("div",{className:"error-container"},r.a.createElement("div",{className:"error-message"},"Sorry, an error has occurred!"),r.a.createElement("i",{className:"fa fa-exclamation-triangle error-icon"})):null},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&(""===M(this.props.location.pathname)[0]&&this.props.clearGifData())}},{key:"componentDidMount",value:function(){var e=M(this.props.location.pathname);if(2===e.length){var a={target:{value:e[1]}};this.props.updateSearchValueAction(a),this.props.searchGifsAction()}else""===e[0]&&this.props.clearGifData()}},{key:"render",value:function(){var e=this.props,a=e.gifData,t=e.gifPaginateData,n=e.isLoading;return r.a.createElement("div",{className:"home-view view"},this.renderErrorMessage(),r.a.createElement(G,{isLoading:n,enableLoadMore:!0,meta:t,data:a}))}}]),a}(n.Component),P=Object(f.b)(function(e){return{gifData:e.gifReducer.gifData,gifPaginateData:e.gifReducer.gifPaginateData,isLoading:e.gifReducer.loading,searchError:e.gifReducer.searchError}},{updateSearchValueAction:D,searchGifsAction:_,clearGifData:function(){return function(e){e({type:p.UPDATE_SEARCH_VALUE,payload:""}),e({type:m.SEARCH_GIFS,payload:{gifData:[],gifPaginateData:{}}})}}})(k),L=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).setFavorites=function(){var e=t.props.favorites;return{data:e,paginateData:{total_count:e.length}}},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.updateSearchValueAction({target:{value:""}})}},{key:"render",value:function(){var e=this.setFavorites(),a=e.data,t=e.paginateData;return r.a.createElement("div",{className:"favorites-view view"},0===a.length&&r.a.createElement("div",null,"No favorite gifs!"),r.a.createElement(G,{isLoading:!1,meta:t,data:a}))}}]),a}(n.Component),H=Object(f.b)(function(e){return{favorites:e.gifReducer.favorites}},{updateSearchValueAction:D})(L),w=t(78),I=t(72),T=t(75),V=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).submitSearch=function(){var e=t.props.searchValue;e.length&&(t.props.searchGifsAction(),t.props.history.push("/search/".concat(e)))},t.handleKeyPress=function(e){"Enter"===e.key&&t.submitSearch()},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.searchValue;return r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{tpe:"text",onChange:this.props.updateSearchValueAction,onKeyPress:this.handleKeyPress,value:e,className:"search-input",placeholder:"Search..."})),r.a.createElement("div",{className:"search-button-container"},r.a.createElement("i",{onClick:this.submitSearch,className:"fa fa-search search-button"})))}}]),a}(n.Component),U=Object(T.a)(Object(f.b)(function(e){return{searchValue:e.searchReducer.searchValue}},{searchGifsAction:_,updateSearchValueAction:D})(V)),B=t(71),x=t(76),W=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classname;return r.a.createElement("div",{className:e},r.a.createElement(B.a,{to:"/",className:"header-title title"},"Its Not Jif"),r.a.createElement(U,null),r.a.createElement(x.a,{activeClassName:"active-link",to:"/favorites",className:"header-title fav"},"Favorites"))}}]),a}(n.Component),J=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(W,{classname:"header-container"}),r.a.createElement(w.a,null,r.a.createElement(I.a,{path:"/search",component:P}),r.a.createElement(I.a,{path:"/favorites",component:H}),r.a.createElement(I.a,{path:"/",component:P})),r.a.createElement(W,{classname:"footer-container"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(13),Q=t(36),q=t(12),X=t(21),Z=Object(K.c)({searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchValue:"",pageNumber:1,searchError:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.UPDATE_SEARCH_VALUE:return Object(q.a)({},e,{searchValue:a.payload});case p.INCREMENT_PAGE_NUMBER:return Object(q.a)({},e,{pageNumber:e.pageNumber+1});case p.CLEAR_PAGE_NUMBER:return Object(q.a)({},e,{pageNumber:1});case p.SEARCH_ERROR:return Object(q.a)({},e,{searchError:!0});default:return e}},gifReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gifData:[],gifPaginateData:{},favorites:[],loading:!1,searchError:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m.SEARCH_GIFS:return Object(q.a)({},e,{gifData:a.payload.gifData,gifPaginateData:a.payload.gifPaginateData,loading:!1});case m.APPEND_GIFS:return Object(q.a)({},e,{gifData:Object(X.a)(e.gifData).concat(Object(X.a)(a.payload.gifData)),gifPaginateData:a.payload.gifPaginateData,loading:!1});case m.FAV_GIF:return Object(q.a)({},e,{favorites:a.payload});case m.LOADING_START:return Object(q.a)({},e,{loading:!0,searchError:!1});case m.SEARCH_ERROR:return Object(q.a)({},e,{searchError:!0,loading:!1});default:return e}}});i.a.render(r.a.createElement(f.a,{store:Object(K.d)(Z,Object(K.a)(Q.a))},r.a.createElement(c.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.a27b55f1.chunk.js.map