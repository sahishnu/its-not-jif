(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,a,t){e.exports=t(71)},42:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(29),o=t.n(i),c=t(76),s=(t(42),t(4)),l=t(5),u=t(7),h=t(6),f=t(8),d=t(11),p={UPDATE_SEARCH_VALUE:"UPDATE_SEARCH_VALUE",INCREMENT_PAGE_NUMBER:"INCREMENT_PAGE_NUMBER",CLEAR_PAGE_NUMBER:"CLEAR_PAGE_NUMBER"},v={SEARCH_GIFS:"SEARCH_GIFS",APPEND_GIFS:"APPEND_GIFS",FAV_GIF:"FAVORITE_GIF",LOADING_START:"LOADING_START"};var m="https://api.giphy.com/v1/gifs",g="Xc47ov5HBaQVCQFfHxnj4WpVIP2pZgmB",E=["#FFD7A3","#FFC2FD","#F9FFAE","#8590FF","#FFC7F4","#9ECDFF","#EDFFC2","#FEC2FF","#AA9EFF","#FF938A","#FFD0C2","#FFCBBD","#FF8FA1"],b=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleImageLoaded=function(){t.setState({loaded:!0})},t.state={loaded:!1},t}return Object(f.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.source,t=e.altText,n=this.state.loaded,i=E[Math.floor(Math.random()*E.length)];return r.a.createElement("div",{style:{backgroundColor:i},className:"gif-placeholder"},r.a.createElement("img",{alt:t,onLoad:this.handleImageLoaded,className:"gif "+(n?"loaded":""),src:a}))}}]),a}(n.Component),A=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleMouseHover=function(){t.setState(t.toggleHoverState)},t.setHoverMessage=function(e){t.setState({hoverMessage:e}),setTimeout(function(){return t.setState({hoverMessage:""})},2e3)},t.handleClickFavorte=function(){t.state.favorite?t.setHoverMessage("Gif Unfavorited!"):t.setHoverMessage("Gif Favorited!"),t.setState(t.toggleFavoriteState,function(){var e=t.props.data;t.props.toggleFavGif({id:e.id,url:e.url,images:e.images})})},t.handleClickCopyLink=function(){t.setHoverMessage("Link Copied!");var e=t.props.data,a=document.createElement("textarea");a.value=e.url,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},t.toggleHoverState=function(e){return{hover:!e.hover}},t.toggleFavoriteState=function(e){return{favorite:!e.favorite}},t.state={hover:!1,favorite:!1,hoverMessage:""},t}return Object(f.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.data.isFav&&this.setState({favorite:!0})}},{key:"render",value:function(){var e=this.props.data,a=this.state,t=a.hover,n=a.favorite,i=a.hoverMessage,o=["fa fa-star"];return n&&o.push("isFav"),r.a.createElement("div",{onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover,className:"gif-box-container"},i&&r.a.createElement("div",{className:"message-box"},i),t&&r.a.createElement("div",{className:"gif-hover-box"+(t?" active":"")},r.a.createElement("div",{className:"hover-box-buttons"},r.a.createElement("i",{onClick:this.handleClickCopyLink,className:"fa fa-link"}),r.a.createElement("i",{onClick:this.handleClickFavorte,className:o.join(" ")}))),r.a.createElement(b,{altText:e.title,source:e.images.fixed_height.url}))}}]),a}(n.Component),O=Object(d.b)(null,{toggleFavGif:function(e){return function(a,t){var n=t().gifReducer.favorites,r=n.filter(function(a){return a.id!==e.id});r.length===n.length&&(e.isFav=!0,r.push(e)),a({type:v.FAV_GIF,payload:r})}}})(A),j=t(20),F=t.n(j),y=t(32),N=t(33),C=t.n(N);function D(e,a){var t,n,r=(t=e,n=a,"".concat(m,"/search?api_key=").concat(g,"&q=").concat(t.split(" ").join("+"),"&offset=").concat(25*n));return C.a.get(r).then(function(e){return e.data}).catch(function(e){console.log(e)})}function _(e){return function(){var a=Object(y.a)(F.a.mark(function a(t,n){var r,i,o,c,s,l,u;return F.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:v.LOADING_START}),t(e?{type:p.INCREMENT_PAGE_NUMBER}:{type:p.CLEAR_PAGE_NUMBER}),r=n(),i=r.searchReducer,o=r.gifReducer,c=i.pageNumber,s=i.searchValue,l=o.favorites.map(function(e){return e.id}),a.next=10,D(s,c);case 10:(u=a.sent).data.forEach(function(e){return l.includes(e.id)&&(e.isFav=!0),e}),t(e?{type:v.APPEND_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}}:{type:v.SEARCH_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}});case 13:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()}function S(e){return function(a){a({type:p.UPDATE_SEARCH_VALUE,payload:e.target.value})}}var R=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).handleLoadMoreClick=function(){t.props.searchGifsAction(!0)},t}return Object(f.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.data,t=e.enableLoadMore,n=e.meta,i=e.isLoading,o=!!(a&&a instanceof Array&&a.length),c=n.total_count,s=!!(t&&o&&a.length<c);return r.a.createElement("div",{className:"table-container"},o&&r.a.createElement("div",{className:"table-meta"},c," gifs"),r.a.createElement("div",{className:"table"},a.map(function(e,a){return r.a.createElement(O,{key:a,data:e})})),i&&r.a.createElement("div",{className:"loading-container"},r.a.createElement("i",{className:"fa fa-spinner"})),s&&r.a.createElement("div",{className:"more-container"},r.a.createElement("div",{onClick:this.handleLoadMoreClick,className:"more-button"},r.a.createElement("div",{className:"button-label"},"Give me MORE!"))))}}]),a}(n.Component),G=Object(d.b)(null,{searchGifsAction:_})(R);function P(e){return"/"===(e=e.split(""))[0]&&e.shift(),"/"===e[1]&&e.pop(),(e=e.join("")).split("/")}var k=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&(""===P(this.props.location.pathname)[0]&&this.props.clearGifData())}},{key:"componentDidMount",value:function(){var e=P(this.props.location.pathname);if(2===e.length){var a={target:{value:e[1]}};this.props.updateSearchValueAction(a),this.props.searchGifsAction()}else""===e[0]&&this.props.clearGifData()}},{key:"render",value:function(){var e=this.props,a=e.gifData,t=e.gifPaginateData,n=e.isLoading;return r.a.createElement("div",{className:"home-view view"},r.a.createElement(G,{isLoading:n,enableLoadMore:!0,meta:t,data:a}))}}]),a}(n.Component),M=Object(d.b)(function(e){return{gifData:e.gifReducer.gifData,gifPaginateData:e.gifReducer.gifPaginateData,isLoading:e.gifReducer.loading}},{updateSearchValueAction:S,searchGifsAction:_,clearGifData:function(){return function(e){e({type:p.UPDATE_SEARCH_VALUE,payload:""}),e({type:v.SEARCH_GIFS,payload:{gifData:[],gifPaginateData:{}}})}}})(k),L=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).setFavorites=function(){var e=t.props.favorites;return{data:e,paginateData:{total_count:e.length}}},t}return Object(f.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.updateSearchValueAction({target:{value:""}})}},{key:"render",value:function(){var e=this.setFavorites(),a=e.data,t=e.paginateData;return r.a.createElement("div",{className:"favorites-view view"},0===a.length&&r.a.createElement("div",null,"No favorite gifs!"),r.a.createElement(G,{isLoading:!1,meta:t,data:a}))}}]),a}(n.Component),I=Object(d.b)(function(e){return{favorites:e.gifReducer.favorites}},{updateSearchValueAction:S})(L),V=t(77),w=t(75),H=t(73),T=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).submitSearch=function(){var e=t.props.searchValue;e.length&&(t.props.searchGifsAction(),t.props.history.push("/search/".concat(e)))},t.handleKeyPress=function(e){"Enter"===e.key&&t.submitSearch()},t}return Object(f.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.searchValue;return r.a.createElement("div",{className:"search-container"},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{tpe:"text",onChange:this.props.updateSearchValueAction,onKeyPress:this.handleKeyPress,value:e,className:"search-input",placeholder:"Search..."})),r.a.createElement("div",{className:"search-button-container"},r.a.createElement("i",{onClick:this.submitSearch,className:"fa fa-search search-button"})))}}]),a}(n.Component),U=Object(H.a)(Object(d.b)(function(e){return{searchValue:e.searchReducer.searchValue}},{searchGifsAction:_,updateSearchValueAction:S})(T)),x=t(74),B=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement(x.a,{to:"/",className:"header-title title"},"Its Not Jif"),r.a.createElement(U,null),r.a.createElement(x.a,{to:"/favorites",className:"header-title fav"},"Favorites"))}}]),a}(n.Component),J=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B,null),r.a.createElement(V.a,null,r.a.createElement(w.a,{path:"/search",component:M}),r.a.createElement(w.a,{path:"/favorites",component:I}),r.a.createElement(w.a,{path:"/",component:M})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(13),W=t(36),Q=t(12),q=t(21),X=Object(K.c)({searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchValue:"",pageNumber:1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p.UPDATE_SEARCH_VALUE:return Object(Q.a)({},e,{searchValue:a.payload});case p.INCREMENT_PAGE_NUMBER:return Object(Q.a)({},e,{pageNumber:e.pageNumber+1});case p.CLEAR_PAGE_NUMBER:return Object(Q.a)({},e,{pageNumber:1});default:return e}},gifReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gifData:[],gifPaginateData:{},favorites:[],loading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v.SEARCH_GIFS:return Object(Q.a)({},e,{gifData:a.payload.gifData,gifPaginateData:a.payload.gifPaginateData,loading:!1});case v.APPEND_GIFS:return Object(Q.a)({},e,{gifData:Object(q.a)(e.gifData).concat(Object(q.a)(a.payload.gifData)),gifPaginateData:a.payload.gifPaginateData,loading:!1});case v.FAV_GIF:return Object(Q.a)({},e,{favorites:a.payload});case v.LOADING_START:return Object(Q.a)({},e,{loading:!0});default:return e}}});o.a.render(r.a.createElement(d.a,{store:Object(K.d)(X,Object(K.a)(W.a))},r.a.createElement(c.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.d660173f.chunk.js.map