(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,a,t){e.exports=t(71)},42:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(29),o=t.n(c),i=t(76),s=(t(42),t(4)),l=t(5),u=t(7),h=t(6),p=t(8),f=t(11),d={UPDATE_SEARCH_VALUE:"UPDATE_SEARCH_VALUE",INCREMENT_PAGE_NUMBER:"INCREMENT_PAGE_NUMBER",CLEAR_PAGE_NUMBER:"CLEAR_PAGE_NUMBER"},v={SEARCH_GIFS:"SEARCH_GIFS",APPEND_GIFS:"APPEND_GIFS",FAV_GIF:"FAVORITE_GIF"};var m="https://api.giphy.com/v1/gifs",g="Xc47ov5HBaQVCQFfHxnj4WpVIP2pZgmB",E=["#FFD7A3","#FFC2FD","#F9FFAE","#8590FF","#FFC7F4","#9ECDFF","#EDFFC2","#FEC2FF","#AA9EFF","#FF938A","#FFD0C2","#FFCBBD","#FF8FA1"],b=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleImageLoaded=function(){t.setState({loaded:!0})},t.state={loaded:!1},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.source,t=e.altText,n=this.state.loaded,c=E[Math.floor(Math.random()*E.length)];return r.a.createElement("div",{style:{backgroundColor:c},className:"gif-placeholder"},r.a.createElement("img",{alt:t,onLoad:this.handleImageLoaded,className:"gif "+(n?"loaded":""),src:a}))}}]),a}(n.Component),A=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(h.a)(a).call(this,e))).handleMouseHover=function(){t.setState(t.toggleHoverState)},t.setHoverMessage=function(e){t.setState({hoverMessage:e}),setTimeout(3e3,t.setState({hoverMessage:""}))},t.handleClickFavorte=function(){t.setHoverMessage("Gif Favorited!"),t.setState(t.toggleFavoriteState,function(){var e=t.props.data;t.props.toggleFavGif({id:e.id,url:e.url,images:e.images})})},t.handleClickCopyLink=function(){t.setHoverMessage("Link Copied!");var e=t.props.data,a=document.createElement("textarea");a.value=e.url,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},t.toggleHoverState=function(e){return{hover:!e.hover}},t.toggleFavoriteState=function(e){return{favorite:!e.favorite}},t.state={hover:!1,favorite:!1,hoverMessage:""},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.data.isFav&&this.setState({favorite:!0})}},{key:"render",value:function(){var e=this.props.data,a=this.state,t=a.hover,n=a.favorite,c=a.hoverMessage,o=["fa fa-star"];return n&&o.push("isFav"),r.a.createElement("div",{onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseHover,className:"gif-box-container"},t&&r.a.createElement("div",{className:"gif-hover-box"+(t?" active":"")},c&&r.a.createElement("div",null,c),r.a.createElement("div",{className:"hover-box-buttons"},r.a.createElement("i",{onClick:this.handleClickCopyLink,className:"fa fa-link"}),r.a.createElement("i",{onClick:this.handleClickFavorte,className:o.join(" ")}))),r.a.createElement(b,{altText:e.title,source:e.images.fixed_height.url}))}}]),a}(n.Component),F=Object(f.b)(null,{toggleFavGif:function(e){return function(a,t){var n=t().gifReducer.favorites,r=n.filter(function(a){return a.id!==e.id});r.length===n.length&&(e.isFav=!0,r.push(e)),a({type:v.FAV_GIF,payload:r})}}})(A),j=t(20),y=t.n(j),O=t(32),C=t(33),N=t.n(C);function D(e,a){var t,n,r=(t=e,n=a,"".concat(m,"/search?api_key=").concat(g,"&q=").concat(t.split(" ").join("+"),"&offset=").concat(25*n));return N.a.get(r).then(function(e){return e.data}).catch(function(e){console.log(e)})}function _(e){return function(){var a=Object(O.a)(y.a.mark(function a(t,n){var r,c,o,i,s,l,u;return y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t(e?{type:d.INCREMENT_PAGE_NUMBER}:{type:d.CLEAR_PAGE_NUMBER}),r=n(),c=r.searchReducer,o=r.gifReducer,i=c.pageNumber,s=c.searchValue,l=o.favorites.map(function(e){return e.id}),a.next=9,D(s,i);case 9:(u=a.sent).data.forEach(function(e){return l.includes(e.id)&&(e.isFav=!0),e}),t(e?{type:v.APPEND_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}}:{type:v.SEARCH_GIFS,payload:{gifData:u.data,gifPaginateData:u.pagination}});case 12:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()}function S(e){return function(a){a({type:d.UPDATE_SEARCH_VALUE,payload:e.target.value})}}var R=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).handleLoadMoreClick=function(){t.props.searchGifsAction(!0)},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.data,t=e.enableLoadMore,n=e.meta,c=a&&a instanceof Array&&a.length;if(!c)return null;var o=t&&c;return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"table-meta"},n.total_count," gifs"),r.a.createElement("div",{className:"table"},a.map(function(e,a){return r.a.createElement(F,{key:a,data:e})})),r.a.createElement("div",{className:"more-container"},o?r.a.createElement("div",{onClick:this.handleLoadMoreClick,className:"more-button"},r.a.createElement("div",{className:"button-label"},"Give me MORE!")):null))}}]),a}(n.Component),P=Object(f.b)(null,{searchGifsAction:_})(R);function k(e){return"/"===(e=e.split(""))[0]&&e.shift(),"/"===e[1]&&e.pop(),(e=e.join("")).split("/")}var G=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&(""===k(this.props.location.pathname)[0]&&this.props.clearGifData())}},{key:"componentDidMount",value:function(){var e=k(this.props.location.pathname);if(2===e.length){var a={target:{value:e[1]}};this.props.updateSearchValueAction(a),this.props.searchGifsAction()}else""===e[0]&&this.props.clearGifData()}},{key:"render",value:function(){var e=this.props,a=e.gifData,t=e.gifPaginateData;return r.a.createElement("div",{className:"home-view"},r.a.createElement(P,{enableLoadMore:!0,meta:t,data:a}))}}]),a}(n.Component),M=Object(f.b)(function(e){return{gifData:e.gifReducer.gifData,gifPaginateData:e.gifReducer.gifPaginateData}},{updateSearchValueAction:S,searchGifsAction:_,clearGifData:function(){return function(e){e({type:d.UPDATE_SEARCH_VALUE,payload:""}),e({type:v.SEARCH_GIFS,payload:{gifData:[],gifPaginateData:{}}})}}})(G),V=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).setFavorites=function(){var e=t.props.favorites;return{data:e,paginateData:{total_count:e.length}}},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.updateSearchValueAction({target:{value:""}})}},{key:"render",value:function(){var e=this.setFavorites(),a=e.data,t=e.paginateData;return r.a.createElement("div",{className:"favorites-view"},r.a.createElement(P,{meta:t,data:a}))}}]),a}(n.Component),I=Object(f.b)(function(e){return{favorites:e.gifReducer.favorites}},{updateSearchValueAction:S})(V),w=t(77),H=t(75),L=t(73),U=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).submitSearch=function(){var e=t.props.searchValue;e.length&&(t.props.searchGifsAction(),t.props.history.push("/search/".concat(e)))},t.handleKeyPress=function(e){"Enter"===e.key&&t.submitSearch()},t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.searchValue;return r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{tpe:"text",onChange:this.props.updateSearchValueAction,onKeyPress:this.handleKeyPress,value:e,className:"search-input",placeholder:"Search..."}),r.a.createElement("i",{onClick:this.submitSearch,className:"fa fa-search search-button"}))}}]),a}(n.Component),B=Object(L.a)(Object(f.b)(function(e){return{searchValue:e.searchReducer.searchValue}},{searchGifsAction:_,updateSearchValueAction:S})(U)),x=t(74),T=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement(x.a,{to:"/",className:"header-title title"},"Its Not Jif"),r.a.createElement(B,null),r.a.createElement(x.a,{to:"/favorites",className:"header-title fav"},"Favorites"))}}]),a}(n.Component),J=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(w.a,null,r.a.createElement(H.a,{path:"/search",component:M}),r.a.createElement(H.a,{path:"/favorites",component:I}),r.a.createElement(H.a,{path:"/",component:M})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(13),W=t(36),Q=t(12),q=t(21),X=Object(K.c)({searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchValue:"",pageNumber:1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d.UPDATE_SEARCH_VALUE:return Object(Q.a)({},e,{searchValue:a.payload});case d.INCREMENT_PAGE_NUMBER:return Object(Q.a)({},e,{pageNumber:e.pageNumber+1});case d.CLEAR_PAGE_NUMBER:return Object(Q.a)({},e,{pageNumber:1});default:return e}},gifReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gifData:[],gifPaginateData:{},favorites:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v.SEARCH_GIFS:return Object(Q.a)({},e,{gifData:a.payload.gifData,gifPaginateData:a.payload.gifPaginateData});case v.APPEND_GIFS:return Object(Q.a)({},e,{gifData:Object(q.a)(e.gifData).concat(Object(q.a)(a.payload.gifData)),gifPaginateData:a.payload.gifPaginateData});case v.FAV_GIF:return Object(Q.a)({},e,{favorites:a.payload});default:return e}}});o.a.render(r.a.createElement(f.a,{store:Object(K.d)(X,Object(K.a)(W.a))},r.a.createElement(i.a,null,r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.4f6346fe.chunk.js.map